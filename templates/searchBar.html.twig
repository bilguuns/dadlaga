

{% extends 'base.html.twig' %}

{% block title %}BnrBanner index{% endblock %}
{% block body %}
    <div id="print">

    <h1>Тайлан</h1>
    {{ form(form ) }}
        <input id="print1" type="button" onclick="print1()" value="Тайлан ">
{#    <a href="{{ path('bnr_banner_new') }}">Create banner</a>#}
    <table>

        {#            {{ searchValue }}#}
        {#        {% endif %}#}
        {#        {{ form_start(form) }}#}
        {#            {{ form_widget(form) }}#}
        {#            <button class="btn">{{ button_label|default('Search') }}</button>#}
        {#        {{ form_end(form) }}#}

    </table>
    </div>

    <table class="table">
        <thead>
        <tr>
            <th>Байгууллага</th>
            <th>Компаний регистер</th>
            <th>Нэр</th>
            <th>Байрлал</th>
            <th>Хугацаа</th>
            <th>Нэгжийн үнэ</th>
            <th>Хоног</th>
            <th>Хөнгөлөлт(%)</th>
            <th>Нийт</th>
            <th>НӨАТ+</th>
            <th>Эцсийн үлдэгдэл</th>
{#            #}{#            <th>Оруулсан огноо</th>#}

{#            #}{#            <th>Order_num</th>#}
{#            #}{#            <th>HrefUrl</th>#}
{#            #}{#            <th>Үргэлжлэх хугацаа</th>#}
{#            #}{#            <th>Status</th>#}
{#            #}{#            <th>Approved_at</th>#}
{#            #}{#            <th>Харагдах хэлбэр</th>#}

{#            #}{#            <th>Comment</th>#}
{#            #}{#            <th>Condition0</th>#}
{#            #}{#            <th>Contact_email</th>#}
{#            #}{#            <th>Contact_name</th>#}
{#            #}{#            <th>Contact_phone</th>#}

{#            #}{#            <th>Төлбөрийн хэлбэр</th>#}




{#            #}{#            <th>Dialog</th> hariltsah tsonh#}
{#            #}{#            <th>DlgWidth</th>#}
{#            #}{#            <th>DlgHeight</th>#}
{#            #}{#            <th>Зургийн зам</th>#}
{#            #}{#            <th>Is_new</th>#}
{#            #}{#            <th>Видео зам</th>#}
{#            #}{#            <th>DefaultImg</th>#}
{#            #}{#            <th>DisplayTime</th>#}
{#            #}{#            <th>SwiffyBody</th>#}
{#            #}{#            <th>SelfTab</th>#}
{#            <th>actions</th>#}
        </tr>
        </thead>
        <tbody>
        {% for go_go_work in go_go_works %}
            <tr>
                <td>{{ go_go_work.company.name }}</td>
                <td>{{ go_go_work.company.register }}</td>
                <td>{{ go_go_work.name}}</td>
                <td>{{ go_go_work.Type.name}}</td>
                <td>{{ go_go_work.startDate ? go_go_work.startDate|date('Y-m-d H:i:s') : '' }}<br>{{ go_go_work.endDate ? go_go_work.endDate|date('Y-m-d H:i:s') : '' }}</td>
{#                <td>{{ go_go_work.insertedDate ? go_go_work.insertedDate|date('Y-m-d H:i:s') : '' }}</td>#}
                <td>{{ go_go_work.Type.price }}</td>
                <td>{{ go_go_work.day }}</td>
                <td>{{ go_go_work.sale }}</td>
                <td>{{ go_go_work.payment}}</td>
                <td>{{ go_go_work.noat }}</td>
                <td>{{ go_go_work.arrearge }}</td>


                {#                <td>{{ go_go_work.arrearge }}</td>#}
                {#                <td>{{ go_go_work.clickedCount }}</td>#}
                {#                <td>{{ go_go_work.day }}</td>#}
                {#                <td>{{ go_go_work.endDate ? go_go_work.endDate|date('Y-m-d H:i:s') : '' }}</td>#}
                {#                <td>{{ go_go_work.name }}</td>#}
                {#                <td>{{ go_go_work.payment }}</td>#}
                {#                <td>{{ go_go_work.price }}</td>#}
                {#                <td>{{ go_go_work.sale }}</td>#}
                {#                <td>{{ go_go_work.startDate ? go_go_work.startDate|date('Y-m-d H:i:s') : '' }}</td>#}
                {#                <td>{{ go_go_work.total }}</td>#}
                {#                <td>{{ go_go_work.comment }}</td>#}
                {#                <td>{{ go_go_work.contactName }}</td>
#}
{#                                <td>{{ bnr_banner.orderNum }}</td>#}
{#                                <td>{{ bnr_banner.hrefUrl }}</td>#}
{#                                <td>{{ bnr_banner.playtime }}</td>#}
{#                                <td>{{ bnr_banner.status }}</td>#}
{#                                <td>{{ bnr_banner.approvedAt ? bnr_banner.approvedAt|date('Y-m-d H:i:s') : '' }}</td>#}
{#                                <td>{{ bnr_banner.showMode }}</td>#}

{#                                <td>{{ bnr_banner.comment }}</td>#}
{#                                <td>{{ bnr_banner.condition0 }}</td>#}
{#                                <td>{{ bnr_banner.contactEmail }}</td>#}
{#                                <td>{{ bnr_banner.contactName }}</td>#}
{#                                <td>{{ bnr_banner.contactPhone }}</td>#}

{#                                <td>{{ bnr_banner.payMode }}</td>#}




{#                                <td>{{ bnr_banner.dialog }}</td>#}
{#                                <td>{{ bnr_banner.DlgWidth }}</td>#}
{#                                <td>{{ bnr_banner.DlgHeight }}</td>#}
{#                                <td>{{ bnr_banner.canvasUrl }}</td>#}
{#                                <td>{{ bnr_banner.isNew }}</td>#}
{#                                <td>{{ bnr_banner.videoUrl }}</td>#}
{#                                <td>{{ bnr_banner.defaultImg }}</td>#}
{#                                <td>{{ bnr_banner.displayTime }}</td>#}
{#                                <td>{{ bnr_banner.swiffyBody }}</td>#}
{#                                <td>{{ bnr_banner.selfTab }}</td>#}

            </tr>
        {% else %}
        {% endfor %}




        {% for bnr_banner in bnr_banners %}
            <tr>
                <td>{{ bnr_banner.company.name}}</td>
                <td>{{ bnr_banner.company.register}}</td>
                <td>{{ bnr_banner.name}}</td>
                <td>{{ bnr_banner.position.name}}</td>
                <td>{{ bnr_banner.startDate ? bnr_banner.startDate|date('Y-m-d H:i:s') : '' }}<br>{{ bnr_banner.endDate ? bnr_banner.endDate|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ bnr_banner.position.price }}</td>
                <td>{{ bnr_banner.day }}</td>
                <td>{{ bnr_banner.sale }}</td>
                <td>{{ bnr_banner.payment}}</td>
                <td>{{ bnr_banner.noat }}</td>
                <td>{{ bnr_banner.arrearage }}</td>
                {#                #}{#                <td>{{ bnr_banner.orderNum }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.hrefUrl }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.playtime }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.status }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.approvedAt ? bnr_banner.approvedAt|date('Y-m-d H:i:s') : '' }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.showMode }}</td>#}

                {#                #}{#                <td>{{ bnr_banner.comment }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.condition0 }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.contactEmail }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.contactName }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.contactPhone }}</td>#}

                {#                #}{#                <td>{{ bnr_banner.payMode }}</td>#}




                {#                #}{#                <td>{{ bnr_banner.dialog }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.DlgWidth }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.DlgHeight }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.canvasUrl }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.isNew }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.videoUrl }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.defaultImg }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.displayTime }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.swiffyBody }}</td>#}
                {#                #}{#                <td>{{ bnr_banner.selfTab }}</td>#}
                <td>
                    {#                    <a href="{{ path('bnr_banner_show', {'id': bnr_banner.id}) }}">show</a>#}
                    {#                    <a href="{{ path('bnr_banner_edit', {'id': bnr_banner.id}) }}">edit</a>#}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="36">no records found</td>
            </tr>
        {% endfor %}






        {% set totalPayment = 0 %}
        {% set totalnoat=0  %}
        {% set total=0  %}
        {% for bnr_banner in bnr_banners%}
            {% set totalPayment = totalPayment + bnr_banner.payment %}
            {% set totalnoat =totalnoat  + bnr_banner.noat %}
            {% set total =total+ bnr_banner.arrearage%}

        {% endfor %}
        {% for go_go_work in go_go_works %}
            {% set totalPayment = totalPayment + go_go_work.payment %}
            {% set totalnoat = totalnoat + go_go_work.noat%}
            {% set total =total+ go_go_work.arrearge%}
        {% endfor %}
        <tr>

            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <th> Нийт </th>
            <th>{{ totalPayment }}</th>
            <th>{{ totalnoat}}</th>
            <th>{{ total}}</th>

        </tr>
        <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <th>Бизнес төлөвлөгөө</th>
            <td><input type="text" name="Business plan" id="businessPlan" value="0" placeholder=""/></td>
        </tr>




        <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <th>Биелэлтийн хувь</th>
            <td></td>

        </tr>

        <tr>
        </tr>
        <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <th>Тооцоо хийсэн:</th>
            <td> </td>
            <td><input type="text" id="txt_1" onkeyup='saveValue(this);'/></td>

        </tr>
        <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <th>Хянасан:</th>
            <td> </td>
            <td><input type="text" id="txt_2" onkeyup='saveValue(this);'/></td>
        </tr>

        <tr>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <td> </td>
            <th>Танилцсан:</th>
            <td> </td>
            <td><input type="text" id="txt_3" onkeyup='saveValue(this);'/></td>
        </tr>







        <script type="text/javascript">
            document.getElementById("txt_1").value = getSavedValue("txt_1");    // set the value to this input
            document.getElementById("txt_2").value = getSavedValue("txt_2");
            document.getElementById("txt_3").value = getSavedValue("txt_3"); // set the value to this input
            /* Here you can add more inputs to set value. if it's saved */

            //Save the value function - save it to localStorage as (ID, VALUE)
            function saveValue(e){
                var id = e.id;  // get the sender's id to save it .
                var val = e.value; // get the value.
                localStorage.setItem(id, val);// Every time user writing something, the localStorage's value will override .
            }

            function getSavedValue  (a){
                if (!localStorage.getItem(a)) {
                    return "";
                }
                return localStorage.getItem(a);
            }
        </script>







        </tbody>
    </table>
    <table class="table">
        <tbody>


{#            {% endfor %}#}


        </tbody>

    </table>


    <script>
        function print1() {
            var printButton=document.getElementById("print");
            printButton.style.visibility='hidden';
            window.print();
            printButton.style.visibility='visible';

        }

    </script>


{% endblock %}
